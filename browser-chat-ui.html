<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Browser Agent</title>
  <link rel="stylesheet" href="browser-chat.css">
</head>
<body>
  <div class="chat-container">
    <!-- Header -->
    <div class="chat-header">
      <h1>🤖 AI Assistant</h1>
      <div class="model-info">
        <select id="modelSelect" class="model-select">
          <option value="gpt-5-mini">GPT-5 Mini</option>
          <option value="gpt-5">GPT-5</option>
          <option value="gpt-5-nano">GPT-5 Nano</option>
          <option value="gemini-2.5-pro">Gemini 2.5 Pro</option>
          <option value="gemini-2.5-flash">Gemini 2.5 Flash</option>
        </select>
      </div>
    </div>

    <!-- Messages Area -->
    <div class="messages-container" id="messagesContainer">
      <div class="welcome-message">
        <div class="welcome-icon">👋</div>
        <h2>Welcome to AI Browser Agent</h2>
        <p>I can help you automate web tasks, solve CAPTCHAs, extract data, and more!</p>
        <div class="welcome-examples">
          <div class="example-item">💡 "구글에서 AI 뉴스 검색해줘"</div>
          <div class="example-item">💡 "이 페이지에서 가격 정보 추출해줘"</div>
          <div class="example-item">💡 "3개 사이트 열어서 헤드라인 비교해줘"</div>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
      <button class="quick-btn" id="btnHome" title="Go to Google">
        <span class="btn-icon">🏠</span>
        <span class="btn-label">Home</span>
      </button>
      <button class="quick-btn" id="btnScreenshot" title="Take Screenshot">
        <span class="btn-icon">📸</span>
        <span class="btn-label">Screenshot</span>
      </button>
      <button class="quick-btn" id="btnRefresh" title="Refresh Page">
        <span class="btn-icon">🔄</span>
        <span class="btn-label">Refresh</span>
      </button>
      <button class="quick-btn" id="btnClearHistory" title="Clear Chat">
        <span class="btn-icon">🗑️</span>
        <span class="btn-label">Clear</span>
      </button>
    </div>

    <!-- Input Area -->
    <div class="input-area">
      <textarea
        id="taskInput"
        placeholder="Ask AI to automate a task... (e.g., '구글에서 AI 검색해줘')"
        rows="3"
      ></textarea>
      <div class="input-controls">
        <button id="btnRun" class="btn-primary">
          <span class="btn-icon">▶️</span>
          <span class="btn-text">Run Task</span>
        </button>
        <button id="btnStop" class="btn-danger" style="display: none;">
          <span class="btn-icon">⏹️</span>
          <span class="btn-text">Stop</span>
        </button>
      </div>
    </div>

    <!-- Settings Toggle -->
    <div class="settings-section">
      <button class="settings-toggle" id="settingsToggle">
        ⚙️ Settings
      </button>
      <div class="settings-panel" id="settingsPanel" style="display: none;">
        <div class="setting-item">
          <label>
            <input type="checkbox" id="syncResultToBrowserView" checked />
            작업 완료 후 결과를 브라우저에 표시
          </label>
          <small style="color: #666; display: block; margin-top: 4px;">
            AI 작업이 끝나면 브라우저가 결과 페이지로 이동합니다
          </small>
        </div>
        <div class="setting-item">
          <label>
            <input type="checkbox" id="syncCookies" />
            로그인 상태 동기화 (쿠키 공유)
          </label>
          <small style="color: #666; display: block; margin-top: 4px;">
            브라우저의 로그인 상태를 AI 작업에 전달합니다
          </small>
        </div>
        <div class="setting-item">
          <label for="visionModelSelect">CAPTCHA Vision Model:</label>
          <select id="visionModelSelect" class="setting-select">
            <option value="gpt-5">GPT-5</option>
            <option value="gemini-2.5-pro">Gemini 2.5 Pro</option>
            <option value="gemini-2.5-flash">Gemini 2.5 Flash</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Logs Toggle -->
    <div class="logs-section">
      <button class="logs-toggle" id="logsToggle">
        📋 Show Logs
      </button>
      <div class="logs-container" id="logsContainer" style="display: none;">
        <div class="logs-header">
          <span>Execution Logs</span>
          <button class="btn-copy-logs" id="btnCopyLogs">Copy Logs</button>
        </div>
        <div class="logs-content" id="logsContent"></div>
      </div>
    </div>
  </div>

  <script src="browser-chat.js"></script>
</body>
</html>
